.. SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com/>
..
.. SPDX-License-Identifier: CC-BY-NC-SA-4.0

========================
 Working with Calendars 
========================

  .. image:: /img/calendars.png
                :align: center
                :width: 100%

You can utilize the |product| Calendar feature to effectively manage your appointments, meetings, and events. Additionally, |product| enables you to share your calendars with colleagues or friends.

To access the Calendar function, simply click on the Calendars section from the left sidebar.

Setting Default Calendar View
=============================

In |product|, the default view when opening your calendar is the Work Week View. However, you have the option to customize this and choose a different view to display upon opening.

To change the default calendar view:

1.	Click on the **Settings** (gear icon) in the left sidebar.
2.	Select Calendars.
3.	Under **General**, click on the **Default view** field.
4.	Select the desired view from the drop-down menu.
5.	Click **SAVE** from the top right corner.

You have these options to choose from:

•	Month View: See the entire month's schedule at a glance.
•	Week View: Focus on a single week's schedule.
•	Day View: Detailed view of events for a single day.
•	Work Week View: Shows only workdays (Monday to Friday – can be changed from the settings), ideal for work-focused scheduling.

Changing Calendar View
======================

To change the calendar view:

1.	Select the **Calendars** from your left sidebar.
2.	From the top right corner select your desired view.

You have these options to choose from:

•	MONTH: See the entire month's schedule at a glance.
•	WEEK: Focus on a single week's schedule.
•	DAY: Detailed view of events for a single day.
•	WORK WEEK: Shows only workdays (Monday to Friday – can be changed from the settings), ideal for work-focused scheduling.

This view will revert to the default settings upon reloading the web client.

Creating a Calendar
===================

In |product|, a default calendar is created for you. However, you can create additional calendars to organize different types of appointments. For instance, you can establish separate calendars for work-related events, personal appointments, and company activities, enabling you to manage each aspect of your schedule efficiently.

To create a calendar:

1.	Select the **Calendars** from your left sidebar.
2.	In the Navigation Panel, right-click on the Calendar.
3.	Select **New calendar** from the drop-down menu. A new window appears.
4.	Insert a calendar name for your new calendar.
5.	Set the color of the calendar.
6.	Click the **CREATE** button.

You can utilize the checkbox labeled **Exclude this calendar when reporting the free/busy times** when creating the calendar if you prefer not to include events from this specific calendar when |product| reports your availability to colleagues. This feature is particularly useful when creating calendars for personal use, ensuring that your availability for meetings is accurately reflected without disclosing details of events from this calendar.

  .. image:: /img/new-calendar1.png
                :align: center
                :width: 100%

Setting a Color for a Calendar
==============================

To optimize your experience with |product|'s multiple calendar feature, it is advisable to assign distinct colors to each calendar. This ensures clarity when viewing them collectively on the same timetable.

To set a color for a calendar:

1.	Select the Calendars from your left sidebar.
2.	In the Navigation Panel, right-click on the calendar for which you want to assign a color.
3.	Select **Edit calendar properties** from the drop-down menu.
4.	Choose a color from the **Calendar color** field.
5.	Click the **OK** button.

Editing a Calendar
==================

To delete a calendar:

1.	Select the **Calendars** from your left sidebar.
2.	In the Navigation Panel, right-click on the calendar you wish to edit.
3.	Select **Edit calendar properties** from the drop-down menu.
4.	Make your changes.
5.	Click the **OK** button.

Deleting a Calendar
===================

To delete a calendar:

1.	Select the **Calendars** from your left sidebar.
2.	In the Navigation Panel, right-click on the calendar you wish to edit.
3.	Select **Delete calendar** from the drop-down menu (this option is unavailable for your main calendar).
4.	Click the **DELETE** button to confirm.

This calendar will be moved to the **Trash** folder and can be deleted permanently from this folder.

Restoring a Trashed Calendar
============================

To restore a trashed calendar:

1.	Select the **Calendars** from your left sidebar.
2.	In the Navigation Panel, click on the downward arrow next to the Trash folder. (if there is no downward arrow, your trash folder is empty)
3.	Right-click on the calendar you wish to restore.
4.	Click **Restore calendar** from the drop-down menu.

This calendar will be moved into your calendar list.

Viewing Multiple Calendars
==========================

To view multiple calendars in your timetable:

1.	Select the **Calendars** from your left sidebar.
2.	In the Navigation Panel, click on the calendars you wish to display on your timetable to toggle their visibility on or off.

  .. image:: /img/multiple-calendar.png
                :align: center
                :width: 100%

Setting Start of the Week
=========================

The default start of the week is Sunday. However, if you reside in a region where the week commences with a different day, you can adjust it from the settings. 
To modify the start of the week:

1.	Click on the **Settings** (gear icon) in the left sidebar.
2.	Select **Calendars**.
3.	Under **General**, click on the **Start week** on field.
4.	Select the desired day from the drop-down menu.
5.	Click **SAVE** from the top right corner.

Now, you will observe that the start of the week has been updated accordingly in your calendar timetable.

Allowing Users to See Your Free/Busy Status
===========================================

The free/busy feature enables others to view the scheduled meeting times on your calendars. By default, this feature is turned on, allowing others to see your availability. 
However, you have the option to disable it or restrict who can access this information.

To modify the free/busy visibility settings:

1.	Click on the **Settings** (gear icon) in the left sidebar.
2.	Select Calendars.
3.	Under **Permissions**, select the desired option from the Free/Busy list section.
4.	Click **SAVE** from the top right corner.


Adding Received Appointments to Your Calendar Automatically
===========================================================

To automatically add received appointments to your calendar:

1.	Click on the **Settings** (gear icon) in the left sidebar.
2.	Select Calendars.
3.	Under the **General** section, select the checkbox Automatically add received appointments to the calendar.
4.	Click **SAVE** from the top right corner.

Now, if a colleague sends you an invitation for a meeting or appointment, it will be automatically added to your calendar.

Working with Shared Calendars
=============================

You can assign privileges to individuals or groups of colleagues using roles to see to manage your shared calendars.

•	Viewer (can view)
•	Editor (can view, edit, add, and delete but cannot accept or reshare appointments)
•	Manager (can view, edit, add, delete, accept and reshare appointments)

Sharing your calendar with colleagues allows them to view or manage your calendar, which can be incredibly useful, especially for a team. Having a shared calendar enables efficient coordination and collaboration among team members.

If you set the viewing mode to ‘daily’ by clicking on the appropriate icon at the top right, you will also have the opportunity to view each appointment separately, divided into separate columns, for clearer visibility of each team member’s calendars.

Sharing Calendars with Your Colleagues
======================================

Share a Calendar Internally
---------------------------

To share your calendar with your colleagues:

1. Navigate to the **Calendars** section from the left sidebar.
2. Right-click on the calendar you wish to share.
3. From the drop-down menu select **Share Calendar**.
4. In the **Share with** field, select *Internal Users or Groups*.
5. Enter the email addresses of your colleagues in the **Recipients’ e-mail addresses** field.
6. Select the desired **Role**.
7. Click the **SHARE CALENDAR** button.

Preventing Duplicate Shares (New Behavior)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

- If a user tries to share the same calendar with the **same user** and the **same role** more than once, the system now:

  * Displays a **warning icon** on the affected chips.
  * Shows an explanatory **error string** below the input.
  * Provides a **tooltip** on both the warning icon and the disabled **Confirm** button.
  
- If the role is changed for a user with whom the calendar was already shared, the action is allowed because the configuration differs.

Role Change Notifications (Improved Behavior)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Previously, changing the role of a shared user generated a new confirmation request and, once accepted, created a duplicate mount point.

Now:

- No confirmation request is generated.
- The user simply receives a **notification** informing them about the role change.
- No duplicate calendars appear in the secondary bar.

Sharing via URL
---------------

1. Navigate to the **Calendars** section from the left sidebar.
2. Right-click on the calendar you wish to share.
3. Select **Calendar’s access share**.
4. Choose either **ICS URL** or **OUTLOOK URL**.

The link is copied to your clipboard and can be pasted into an email or message.

Find Colleagues' Shared Calendars
---------------------------------

To find and add shared calendars:

1. Select **Calendars** from the left sidebar.
2. In the Navigation Panel, click the **FIND SHARES** button.
3. Begin typing your colleague’s email address and choose it from the suggestions.
4. Select the shared calendar from the list.
5. Click **ADD**.

The shared calendar will appear in your list.

Sharing Calendars with External Users
======================================

Zextras |product| allows calendars to be shared with users outside your domain. Public calendar shares are read-only and allow external users to:

- View calendar events
- Subscribe via ICS
- Access without authentication

Free/Busy Status Sharing
------------------------

Only availability information (free/busy) is exposed, without revealing event details.

How to Share a Calendar
-----------------------

Step 1: Configure Sharing
~~~~~~~~~~~~~~~~~~~~~~~~~

1. Access *Carbonio Webmail → Calendars*.
2. Right-click on the desired calendar.
3. Select **Edit calendar properties**.
4. Click **ADD SHARE**.
5. Choose the share configuration.

Share with Public: New Checkbox Interface
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The *Share with public* option is now a **checkbox**, simplifying the process:

- When checked, the calendar becomes publicly visible in read-only mode.
- The entry **Public** appears in the share list as before.
- Revoking the public share automatically **unchecks** the box.

This improvement avoids errors that occurred when selecting the same option multiple times from a dropdown.

Step 2: Obtain Sharing Links
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The system generates two URLs:

- **ICS URL** — compatible with Google Calendar, Apple Calendar, Thunderbird.
- **Outlook WebDAV URL** — for Microsoft Outlook.

To access these links:

1. Right-click on the shared calendar.
2. Select **Calendar’s access share**.
3. Copy the desired link.

Free/Busy URL Format
~~~~~~~~~~~~~~~~~~~~

::

   https://mail.yourdomain.com/service/pubcal/freebusy.ifb?acct=your-email@yourdomain.com

How to Share Free/Busy Status
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

1. Copy the ICS Free/Busy URL.
2. Share it with external users.
3. They can view availability without accessing event details.

Upcoming Improvements: Dedicated Sharing Modal
===============================================

To improve clarity and avoid stacked modals:

- The sharing process will be moved into a **single dedicated modal**.
- A new dedicated entry in the contextual menu will open the sharing modal.
- The **Edit Calendar** modal will remain separate and no longer include sharing options.
- This ensures a faster, simpler, and more intuitive workflow.


Security & Privacy

#. External users cannot edit calendars - all shared calendars are read-only
#. Free/Busy sharing provides view-only access to availability
#. No sensitive data (event details) is shared with Free/Busy status
#. Sharing settings can be modified at any time

Use Cases

Partner collaboration: Share availability with business partners
Vendor coordination: Allow vendors to check your schedule
External meeting scheduling: Enable external users to find available time slots

Supported Clients

Google Calendar
Apple Calendar
Microsoft Outlook
Thunderbird
Any calendar application supporting ICS/iCal format

Creating Calendar Groups
========================

You also have the option to create calendar groups, making it easier to search for certain shared calendars. To do this, simply:

#.	Select the **Calendars** from your left sidebar.
#.  Click on **Create New Group** button.
#.  Enter the name of the group in the proper field of the new modal that appears.
#.  Select the calendars you wish to add to the group from the list, by simply searching for them.
#.  Click the **+** button, to add them all.
#.  Click the **REMOVE** button, if you have to remove some of them.
#.  Click the **CREATE GROUP** button. 

Now you can switch on and off the group everytime you need to see all the calendars of the users in that group.

Editing Calendar Groups
========================

To edit a calendar group, follow these steps:

#. Right-click on the group you want to edit.
#. Select **Edit Group** option.
#. Make the necessary changes to the group name or the calendars included in the group.
#. Click the **SAVE CHANGES** button.

Deleting Calendar Groups
=========================

To delete a calendar group, simply:

#. Right-click on the group you want to delete.
#. Select **Delete permanently** option.
#. Confirm that you want to delete the group, by clicking on the red button **DELETE PERMANENTLY**
#. The group will be permanently deleted.


Remove a Colleague's Shared Calendars from Your List
====================================================

To remove a colleague’s shared calendar from your calendars list:

1.	Select the **Calendars** from your left sidebar.
2.	From the Navigation Panel, right-click on the calendar you wish to remove.
3.	From the drop-down menu select **Remove shared calendar**.

.. _ics-import:

Import an ICS File as New Calendar
====================================

You can import a calendar in .ics format directly to your |product| web client calendar. To do so:

1.	Select the **Calendars** from your left sidebar.
2.	In the Navigation Panel, right-click on "Calendar" and select the voice "New Calendar": this step is not mandatory, but recommended to avoid mixing existing calendars with the imported one.
3. Choose the name and settings of the new calendar that will contain the imported data and save it.
4.	Right-click on the new calendar and select the "Import ICS file" option.
5.	Select the .ics file containing the calendar, stored on your computer.
6.	Click **Open** and **Import**.
7. Refresh the page to get the updated calendar view.

Export an ICS File as New Calendar
====================================

You can also export a calendar in .ics format directly from your |product| web client calendar. To do so:

1.	Select the **Calendars** from your left sidebar.
2.	In the Navigation Panel, right-click on "Calendar" you want to export.
3.	Select the "Export ICS file" option.
4.	The download will start in a while, find you .ics file in your download folder.

Configure a CalDAV Client
=========================

Adding a |product| calendar to your favourite CalDAV client is
straightforward and requires only a few steps. The procedure is almost
identical on any client; in the box at the end of this section we
mention which are the differences.

In this scenario, the user *john.smith@example.com* wants to configure
in Mozilla's Thunderbird a calendar called *Calendar* on the domain
*mail.example.com*. In the remainder, replace these values with
suitable ones.

.. card:: Step 1.  New Calendar

   On your client, go to the Calendar and select **New
   Calendar...**. Choose **On the Network**

   .. image:: /img/en/calcardav/new-calendar.png
      :align: center
      :width: 40%

.. card:: Step 2.

   Provide the **Username** and the **Location**, which has format
   ``https://<domain>/dav/username``, so
   *https://mail.example.com/dav/john.smith@example.com*


   .. image:: /img/en/calcardav/calendar-settings.png
      :align: center
      :width: 40%

.. card:: Step 3.

   You will be then presented a list, from which to choose *Calendar*.

   You are now done! the calendar will show up in the list of your client.

   .. image:: /img/en/calcardav/find-calendar.png
      :align: center
      :width: 40%

.. card:: Other clients

   CalDAV is a standard protocol and therefore the data required to
   set up a client are a username, an URL, and the name of a
   calendar. The only difference is that some client requires that the
   calendar's name be part of the URL, so you might need to provide
   *https://mail.example.com/dav/john.smith@example.com/Calendar* as
   the URL.